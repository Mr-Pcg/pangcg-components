"use strict";(self.webpackChunkpangcg_components=self.webpackChunkpangcg_components||[]).push([[152],{92094:function(c,t,n){var o;n.r(t),n.d(t,{demos:function(){return y}});var g=n(17061),s=n.n(g),I=n(17156),u=n.n(I),a=n(67294),f=n(34122),m=n(28063),P=n(82134),y={"pdfpreview-demo-online":{component:a.memo(a.lazy(function(){return n.e(88).then(n.bind(n,8169))})),asset:{type:"BLOCK",id:"pdfpreview-demo-online",refAtomIds:["PdfPreview"],dependencies:{"index.tsx":{type:"FILE",value:n(29440).Z},antd:{type:"NPM",value:"5.25.3"},"pangcg-components":{type:"NPM",value:"0.0.5"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{antd:f,"pangcg-components":m,react:o||(o=n.t(a,2))},renderOpts:{compile:function(){var r=u()(s()().mark(function i(){var l,p=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(335).then(n.bind(n,37335));case 2:return e.abrupt("return",(l=e.sent).default.apply(l,p));case 3:case"end":return e.stop()}},i)}));function d(){return r.apply(this,arguments)}return d}()}},"pdfpreview-demo-base64":{component:a.memo(a.lazy(function(){return n.e(88).then(n.bind(n,41860))})),asset:{type:"BLOCK",id:"pdfpreview-demo-base64",refAtomIds:["PdfPreview"],dependencies:{"index.tsx":{type:"FILE",value:n(47209).Z},antd:{type:"NPM",value:"5.25.3"},"pangcg-components":{type:"NPM",value:"0.0.5"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{antd:f,"pangcg-components":m,react:o||(o=n.t(a,2))},renderOpts:{compile:function(){var r=u()(s()().mark(function i(){var l,p=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(335).then(n.bind(n,37335));case 2:return e.abrupt("return",(l=e.sent).default.apply(l,p));case 3:case"end":return e.stop()}},i)}));function d(){return r.apply(this,arguments)}return d}()}},"pdfpreview-demo-fileobject":{component:a.memo(a.lazy(function(){return n.e(88).then(n.bind(n,41984))})),asset:{type:"BLOCK",id:"pdfpreview-demo-fileobject",refAtomIds:["PdfPreview"],dependencies:{"index.tsx":{type:"FILE",value:n(56263).Z},"@ant-design/icons":{type:"NPM",value:"6.0.0"},antd:{type:"NPM",value:"5.25.3"},"pangcg-components":{type:"NPM",value:"0.0.5"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"@ant-design/icons":P,antd:f,"pangcg-components":m,react:o||(o=n.t(a,2))},renderOpts:{compile:function(){var r=u()(s()().mark(function i(){var l,p=arguments;return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(335).then(n.bind(n,37335));case 2:return e.abrupt("return",(l=e.sent).default.apply(l,p));case 3:case"end":return e.stop()}},i)}));function d(){return r.apply(this,arguments)}return d}()}}}},28165:function(c,t,n){n.r(t),n.d(t,{texts:function(){return o}});const o=[{value:"\u4E00\u4E2A\u529F\u80FD\u5F3A\u5927\u7684 PDF \u6587\u4EF6\u9884\u89C8\u7EC4\u4EF6\uFF0C\u652F\u6301\u591A\u79CD\u6587\u4EF6\u6765\u6E90\u3001\u7F29\u653E\u3001\u7FFB\u9875\u7B49\u64CD\u4F5C\u3002",paraId:0,tocIndex:0},{value:"\u652F\u6301\u591A\u79CD\u6587\u4EF6\u6765\u6E90\uFF1A\u5728\u7EBF\u94FE\u63A5\u3001Base64\u3001\u6587\u4EF6\u6D41(Blob/File)",paraId:1,tocIndex:1},{value:"\u63D0\u4F9B\u7B80\u6D01\u7684 API \u63A5\u53E3\uFF0C\u6613\u4E8E\u96C6\u6210",paraId:1,tocIndex:1},{value:"\u5B8C\u5584\u7684\u52A0\u8F7D\u72B6\u6001\u548C\u9519\u8BEF\u5904\u7406",paraId:1,tocIndex:1},{value:"\u54CD\u5E94\u5F0F\u8BBE\u8BA1\uFF0C\u652F\u6301\u81EA\u5B9A\u4E49\u5BBD\u9AD8",paraId:1,tocIndex:1},{value:"\u63D0\u4F9B\u6587\u4EF6\u4E0B\u8F7D\u529F\u80FD",paraId:1,tocIndex:1},{value:"\u652F\u6301\u7F29\u653E\u3001\u7FFB\u9875\u7B49\u4EA4\u4E92\u64CD\u4F5C",paraId:1,tocIndex:1},{value:"\u4F7F\u7528\u5728\u7EBF\u94FE\u63A5\u9884\u89C8 PDF \u6587\u4EF6\uFF1A",paraId:2,tocIndex:3},{value:"\u4F7F\u7528 Base64 \u7F16\u7801\u6570\u636E\u9884\u89C8 PDF \u6587\u4EF6\uFF1A",paraId:3,tocIndex:4},{value:"\u901A\u8FC7\u6587\u4EF6\u4E0A\u4F20\u83B7\u53D6\u6587\u4EF6\u5BF9\u8C61\u5E76\u9884\u89C8\uFF1A",paraId:4,tocIndex:5},{value:"\u53C2\u6570",paraId:5,tocIndex:6},{value:"\u8BF4\u660E",paraId:5,tocIndex:6},{value:"\u7C7B\u578B",paraId:5,tocIndex:6},{value:"\u9ED8\u8BA4\u503C",paraId:5,tocIndex:6},{value:"fileUrl",paraId:5,tocIndex:6},{value:"\u6587\u4EF6\u6570\u636E\uFF0C\u652F\u6301\u5728\u7EBF\u94FE\u63A5\u3001Base64 \u6570\u636E\u6216\u6587\u4EF6\u5BF9\u8C61",paraId:5,tocIndex:6},{value:"string | Blob | File",paraId:5,tocIndex:6},{value:"-",paraId:5,tocIndex:6},{value:"fileName",paraId:5,tocIndex:6},{value:"\u6587\u4EF6\u540D\uFF0C\u5F53 fileUrl \u4E3A Blob \u6216 Base64 \u65F6\u53EF\u6307\u5B9A",paraId:5,tocIndex:6},{value:"string",paraId:5,tocIndex:6},{value:"'\u6587\u4EF6\u9884\u89C8'",paraId:5,tocIndex:6},{value:"className",paraId:5,tocIndex:6},{value:"\u81EA\u5B9A\u4E49 CSS \u7C7B\u540D\uFF0C\u7528\u4E8E\u5B9A\u5236\u5BB9\u5668\u6837\u5F0F",paraId:5,tocIndex:6},{value:"string",paraId:5,tocIndex:6},{value:"''",paraId:5,tocIndex:6},{value:"style",paraId:5,tocIndex:6},{value:"\u81EA\u5B9A\u4E49\u5185\u8054\u6837\u5F0F\uFF0C\u7528\u4E8E\u8BBE\u7F6E\u5BB9\u5668\u7684\u5BBD\u9AD8\u3001\u989C\u8272\u7B49\u5C5E\u6027",paraId:5,tocIndex:6},{value:"CSSProperties",paraId:5,tocIndex:6},{value:"{}",paraId:5,tocIndex:6},{value:"PDF \u9884\u89C8\u9700\u8981\u7F51\u7EDC\u73AF\u5883\u80FD\u591F\u8BBF\u95EE CDN\uFF1A",paraId:6,tocIndex:7},{value:"cdnjs.cloudflare.com",paraId:6,tocIndex:7},{value:"\uFF0C\u7528\u4E8E\u52A0\u8F7D PDF.js \u7684 worker \u6587\u4EF6\u3002",paraId:6,tocIndex:7},{value:"\u652F\u6301 PDF \u6587\u4EF6\u7F29\u653E\u3001\u7FFB\u9875\u548C\u4E0B\u8F7D\u529F\u80FD\u3002",paraId:6,tocIndex:7},{value:"\u5F53\u4F7F\u7528 Base64 \u6216\u6587\u4EF6\u5BF9\u8C61\u65F6\uFF0C\u53EF\u4EE5\u901A\u8FC7 fileName \u5C5E\u6027\u81EA\u5B9A\u4E49\u663E\u793A\u7684\u6587\u4EF6\u540D\u3002",paraId:6,tocIndex:7},{value:"\u5BF9\u4E8E\u6587\u4EF6\u5BF9\u8C61\uFF0C\u7EC4\u4EF6\u4F1A\u81EA\u52A8\u83B7\u53D6\u5E76\u4F7F\u7528\u6587\u4EF6\u7684\u539F\u59CB\u540D\u79F0\u3002",paraId:6,tocIndex:7}]},47209:function(c,t){t.Z=`import { Button, Modal, Space, Spin } from 'antd';
import { PdfPreview } from 'pangcg-components';
import React, { useEffect, useState } from 'react';

export default () => {
  const [visible, setVisible] = useState(false);
  const [base64Data, setBase64Data] = useState<string | null>(null);
  const [loading, setLoading] = useState<boolean>(true);

  // \u5C06\u5728\u7EBFPDF\u8F6C\u6362\u4E3ABase64
  useEffect(() => {
    const fileUrl =
      'https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf';

    setLoading(true);

    // \u4ECEURL\u83B7\u53D6PDF\u5E76\u8F6C\u6362\u4E3ABase64
    const fetchPdfAndConvertToBase64 = async () => {
      try {
        // \u83B7\u53D6PDF\u6587\u4EF6
        const response = await fetch(fileUrl);
        if (!response.ok) {
          throw new Error('\u65E0\u6CD5\u83B7\u53D6PDF\u6587\u4EF6');
        }

        // \u5C06\u54CD\u5E94\u8F6C\u6362\u4E3ABlob
        const pdfBlob = await response.blob();

        // \u4F7F\u7528FileReader\u5C06Blob\u8F6C\u6362\u4E3ABase64
        const reader = new FileReader();
        reader.onloadend = () => {
          const base64 = reader.result as string;
          setBase64Data(base64);
          setLoading(false);
        };

        reader.onerror = () => {
          console.error('\u8F6C\u6362Base64\u65F6\u51FA\u9519');
          setLoading(false);
        };

        // \u5F00\u59CB\u8BFB\u53D6Blob
        reader.readAsDataURL(pdfBlob);
      } catch (error) {
        console.error('\u83B7\u53D6PDF\u65F6\u51FA\u9519:', error);
        setLoading(false);
      }
    };

    fetchPdfAndConvertToBase64();
  }, []);

  return (
    <div>
      <Space>
        <Button type="primary" onClick={() => setVisible(true)}>
          \u9884\u89C8Base64\u7F16\u7801PDF
        </Button>
      </Space>

      <Modal
        title="PDF\u6587\u4EF6\u9884\u89C8"
        width={900}
        okText="\u786E\u8BA4"
        cancelText="\u53D6\u6D88"
        open={visible}
        onCancel={() => setVisible(false)}
        onOk={() => setVisible(false)}
      >
        {loading ? (
          <div
            style={{
              display: 'flex',
              flexDirection: 'column',
              alignItems: 'center',
              justifyContent: 'center',
              height: 500,
              background: '#f5f5f5',
              borderRadius: '4px',
            }}
          >
            <Spin size="large" />
            <div
              style={{
                marginTop: '16px',
                color: 'rgba(0, 0, 0, 0.65)',
                fontSize: '14px',
              }}
            >
              \u6B63\u5728\u52A0\u8F7DPDF\u6587\u4EF6\uFF0C\u8BF7\u7A0D\u5019...
            </div>
          </div>
        ) : (
          base64Data && (
            <PdfPreview
              fileUrl={base64Data}
              fileName="Base64\u793A\u4F8B\u6587\u6863.pdf"
              style={{ height: 500 }}
            />
          )
        )}
      </Modal>
    </div>
  );
};
`},56263:function(c,t){t.Z=`import { UploadOutlined } from '@ant-design/icons';
import { Button, message, Modal, Space } from 'antd';
import { PdfPreview } from 'pangcg-components';
import React, { useRef, useState } from 'react';

export default () => {
  const [visible, setVisible] = useState(false);
  const [pdfFile, setPdfFile] = useState<File | null>(null);
  const fileInputRef = useRef<HTMLInputElement>(null);

  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    const file = event.target.files?.[0];

    // \u68C0\u67E5\u662F\u5426\u4E3APDF\u6587\u4EF6
    if (file && file.type === 'application/pdf') {
      setPdfFile(file);
      setVisible(true);
      message.success(\`\${file.name} \u6587\u4EF6\u5DF2\u51C6\u5907\u597D\u9884\u89C8\`);
    } else if (file) {
      message.error('\u8BF7\u4E0A\u4F20PDF\u683C\u5F0F\u7684\u6587\u4EF6');
    }
  };

  const handleButtonClick = () => {
    fileInputRef.current?.click();
  };

  return (
    <div>
      <Space>
        <input
          type="file"
          ref={fileInputRef}
          style={{ display: 'none' }}
          accept="application/pdf"
          onChange={handleFileChange}
        />
        <Button icon={<UploadOutlined />} onClick={handleButtonClick}>
          \u9009\u62E9PDF\u6587\u4EF6
        </Button>

        {pdfFile && (
          <Button type="primary" onClick={() => setVisible(true)}>
            \u9884\u89C8\u5DF2\u4E0A\u4F20\u7684PDF
          </Button>
        )}
      </Space>

      {pdfFile && (
        <Modal
          title="pdf\u6587\u4EF6\u9884\u89C8"
          width={900}
          okText="\u786E\u8BA4"
          cancelText="\u53D6\u6D88"
          open={visible}
          onCancel={() => setVisible(false)}
          onOk={() => setVisible(false)}
        >
          <PdfPreview fileUrl={pdfFile} style={{ height: 500 }} />
        </Modal>
      )}
    </div>
  );
};
`},29440:function(c,t){t.Z=`import { Button, Modal, Space } from 'antd';
import { PdfPreview } from 'pangcg-components';
import React, { useState } from 'react';

export default () => {
  const [visible, setVisible] = useState(false);

  // \u793A\u4F8BPDF\u6587\u4EF6URL - \u5728\u7EBF\u94FE\u63A5
  const fileUrl =
    'https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf';

  return (
    <div>
      <Space>
        <Button type="primary" onClick={() => setVisible(true)}>
          \u9884\u89C8\u5728\u7EBFPDF
        </Button>
      </Space>
      <Modal
        title="pdf\u6587\u4EF6\u9884\u89C8"
        width={900}
        okText="\u786E\u8BA4"
        cancelText="\u53D6\u6D88"
        open={visible}
        onCancel={() => setVisible(false)}
        onOk={() => setVisible(false)}
      >
        <PdfPreview fileUrl={fileUrl} style={{ height: 500 }} />
      </Modal>
    </div>
  );
};
`}}]);

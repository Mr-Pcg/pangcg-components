"use strict";(self.webpackChunkpangcg_components=self.webpackChunkpangcg_components||[]).push([[963],{65857:function(L,d,e){e.r(d);var D=e(5574),_=e.n(D),p=e(40741),P=e(55742),E=e(42075),v=e(86738),h=e(21532),C=e(83622),m=e(28063),l=e(67294),T=e(82925),f=e(33852),F=e.n(f),a=e(85893),t=function(){var U=p.Z.useForm(),y=_()(U,1),s=y[0],r=(0,m.useEditFormTreeTable)(s),u=r.addChildRecord,j=r.deleteRecord,M=(0,l.useState)([]),g=_()(M,2),O=g[0],I=g[1];(0,l.useEffect)(function(){s.setFieldValue("departments",[].concat(A))},[]);var x=[{title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"name",key:"name",width:220,componentType:"input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",maxLength:50,allowClear:!0},formItemProps:{rules:[{required:!0,message:"\u90E8\u95E8\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]}},{title:"\u90E8\u95E8\u7F16\u7801",dataIndex:"code",key:"code",width:180,componentType:"text"},{title:"\u90E8\u95E8\u7ECF\u7406",dataIndex:"manager",key:"manager",width:180,componentType:"input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u7ECF\u7406",maxLength:50,allowClear:!0},formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90E8\u95E8\u7ECF\u7406"}]}},{title:"\u90E8\u95E8\u7EA7\u522B",dataIndex:"level",key:"level",width:120,componentType:"select",componentProps:{options:[{label:"\u4E00\u7EA7\u90E8\u95E8",value:1},{label:"\u4E8C\u7EA7\u90E8\u95E8",value:2},{label:"\u4E09\u7EA7\u90E8\u95E8",value:3},{label:"\u56DB\u7EA7\u90E8\u95E8",value:4}],placeholder:"\u8BF7\u9009\u62E9\u90E8\u95E8\u7EA7\u522B",allowClear:!0,style:{width:"100%"}},formItemProps:{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u90E8\u95E8\u7EA7\u522B"}]}},{title:"\u90E8\u95E8\u72B6\u6001",dataIndex:"status",key:"status",width:120,componentType:"switch",componentProps:{checkedChildren:"\u6D3B\u8DC3",unCheckedChildren:"\u505C\u7528"},formItemProps:{valuePropName:"checked",initialValue:!0}},{title:"\u6295\u8BC9\u60C5\u51B5",dataIndex:"complaint",key:"complaint",width:120,formItemProps:{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6295\u8BC9\u60C5\u51B5"}]},renderFormItem:function(){return(0,a.jsx)(P.ZP.Group,{options:[{value:1,label:"\u6709\u6295\u8BC9"},{value:2,label:"\u65E0\u6295\u8BC9"}]})}},{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation",width:180,fixed:"right",render:function(o,B){return(0,a.jsxs)(E.Z,{size:"middle",children:[(0,a.jsx)("a",{onClick:function(){u("departments",B._key,{name:"\u65B0\u5B50\u90E8\u95E8",manager:"\u672A\u6307\u5B9A",level:(B.level||1)+1,status:!0})},children:"\u6DFB\u52A0\u5B50\u90E8\u95E8"}),(0,a.jsx)(v.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u90E8\u95E8\u53CA\u5176\u6240\u6709\u5B50\u90E8\u95E8\u5417\uFF1F",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onConfirm:function(){j("departments",B._key)},children:(0,a.jsx)("a",{children:"\u5220\u9664"})})]})}}],A=[{id:"1",name:"Zibo\u4E0A\u6D77\u516C\u53F8",manager:"\u5F20\u4E09",establishDate:"2010-01-01",status:!0,level:1,code:"100000",complaint:2,children:[{id:"1-1",name:"\u7814\u53D1\u90E8",manager:"\u674E\u56DB",establishDate:"2012-03-15",status:!1,level:2,code:"100001",complaint:1,children:[{id:"1-1-1",name:"\u524D\u7AEF\u7EC4",manager:"\u738B\u4E94",establishDate:"2015-06-20",status:!0,level:3,code:"100001-1",complaint:2},{id:"1-1-2",name:"\u540E\u7AEF\u7EC4",manager:"\u8D75\u516D",establishDate:"2015-07-18",status:!0,level:3,code:"100001-2",complaint:1}]},{id:"1-2",name:"\u5E02\u573A\u90E8",manager:"\u94B1\u4E03",establishDate:"2013-05-22",status:!0,level:2,code:"100002",complaint:1}]}],c=function(o){console.log("\u63D0\u4EA4\u7684\u6570\u636E:",o)},i={selectedRowKeys:O,onChange:function(o){console.log("-newSelectedRowKeys--",o),I(o)},checkStrictly:!1};return(0,a.jsxs)(h.ZP,{locale:T.default,children:[(0,a.jsx)(C.ZP,{type:"primary",onClick:function(){s.submit()},style:{marginBottom:12},children:"\u63D0\u4EA4\u6570\u636E"}),(0,a.jsx)(p.Z,{form:s,onFinish:c,children:(0,a.jsx)(m.EditFormTreeTable,{formListProps:{name:"departments"},rowKey:"id",columns:x,scroll:{x:"max-content"},rowSelection:i,recordCreatorProps:{creatorButtonShow:!0,creatorButtonText:"\u6DFB\u52A0\u6839\u6570\u636E",record:function(){return{id:"",name:"\u65B0\u90E8\u95E8",manager:"\u672A\u6307\u5B9A",level:1,status:!0,complaint:2}}}},"tree-table")})]})};d.default=t},78852:function(L,d,e){e.r(d);var D=e(97857),_=e.n(D),p=e(5574),P=e.n(p),E=e(40741),v=e(42075),h=e(86738),C=e(21532),m=e(83622),l=e(28063),T=e(67294),f=e(82925),F=e(33852),a=e.n(F),t=e(85893),R=function(){var y=E.Z.useForm(),s=P()(y,1),r=s[0],u=(0,l.useEditFormTreeTable)(r),j=u.addRootRecord,M=u.addChildRecord,g=u.deleteRecord,O=u.updateRecord;(0,T.useEffect)(function(){r.setFieldValue("departments",[].concat(x))},[]);var I=[{title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"name",key:"name",width:220,componentType:"input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",maxLength:50,allowClear:!0},formItemProps:{rules:[{required:!0,message:"\u90E8\u95E8\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]}},{title:"\u90E8\u95E8\u7F16\u7801",dataIndex:"code",key:"code",width:180,componentType:"text"},{title:"\u90E8\u95E8\u7ECF\u7406",dataIndex:"manager",key:"manager",width:180,componentType:"input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u7ECF\u7406",maxLength:50,allowClear:!0},formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90E8\u95E8\u7ECF\u7406"}]}},{title:"\u90E8\u95E8\u7EA7\u522B",dataIndex:"level",key:"level",width:120,componentType:"select",componentProps:{options:[{label:"\u4E00\u7EA7\u90E8\u95E8",value:1},{label:"\u4E8C\u7EA7\u90E8\u95E8",value:2},{label:"\u4E09\u7EA7\u90E8\u95E8",value:3},{label:"\u56DB\u7EA7\u90E8\u95E8",value:4}],placeholder:"\u8BF7\u9009\u62E9\u90E8\u95E8\u7EA7\u522B",allowClear:!0,style:{width:"100%"}},formItemProps:{rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u90E8\u95E8\u7EA7\u522B"}]}},{title:"\u90E8\u95E8\u72B6\u6001",dataIndex:"status",key:"status",width:120,componentType:"switch",componentProps:{checkedChildren:"\u6D3B\u8DC3",unCheckedChildren:"\u505C\u7528"},formItemProps:{valuePropName:"checked",initialValue:!0}},{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation",width:240,fixed:"right",customRender:function(i){var n=i.record;return(0,t.jsxs)(v.Z,{size:"middle",children:[(0,t.jsx)("a",{onClick:function(){M("departments",n._key,{name:"\u65B0\u5B50\u90E8\u95E8",manager:"\u672A\u6307\u5B9A",level:(n.level||1)+1,status:!0})},children:"\u6DFB\u52A0\u5B50\u90E8\u95E8"}),(0,t.jsx)(h.Z,{title:"\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u90E8\u95E8\u53CA\u5176\u6240\u6709\u5B50\u90E8\u95E8\u5417\uFF1F",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onConfirm:function(){g("departments",n._key)},children:(0,t.jsx)("a",{children:"\u5220\u9664"})}),(0,t.jsx)(h.Z,{title:"\u786E\u5B9A\u8981\u66F4\u65B0\u8FD9\u4E2A\u90E8\u95E8\u540D\u79F0\u5417\uFF1F",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",onConfirm:function(){O("departments",n._key,_()(_()({},n),{},{name:"\u66F4\u65B0\u540E\u7684\u90E8\u95E8\u540D\u79F0"}))},children:(0,t.jsx)("a",{children:"\u66F4\u65B0\u540D\u79F0"})})]})}}],x=[{id:"1",name:"Zibo\u4E0A\u6D77\u516C\u53F8",manager:"\u5F20\u4E09",establishDate:"2010-01-01",status:!0,level:1,code:"100000",children:[{id:"1-1",name:"\u7814\u53D1\u90E8",manager:"\u674E\u56DB",establishDate:"2012-03-15",status:!1,level:2,code:"100001",children:[{id:"1-1-1",name:"\u524D\u7AEF\u7EC4",manager:"\u738B\u4E94",establishDate:"2015-06-20",status:!0,level:3,code:"100001-1"},{id:"1-1-2",name:"\u540E\u7AEF\u7EC4",manager:"\u8D75\u516D",establishDate:"2015-07-18",status:!0,level:3,code:"100001-2"}]},{id:"1-2",name:"\u5E02\u573A\u90E8",manager:"\u94B1\u4E03",establishDate:"2013-05-22",status:!0,level:2,code:"100002"}]}],A=function(i){console.log("\u63D0\u4EA4\u7684\u6570\u636E:",i)};return(0,t.jsxs)(C.ZP,{locale:f.default,children:[(0,t.jsx)(m.ZP,{type:"primary",onClick:function(){r.submit()},style:{marginBottom:12},children:"\u63D0\u4EA4\u6570\u636E"}),(0,t.jsx)(m.ZP,{type:"primary",onClick:function(){j("departments",{name:"\u65B0\u90E8\u95E8",manager:"\u672A\u6307\u5B9A",level:1,status:!0,id:"add-"+(0,l.generateUUID)()})},style:{marginBottom:12,marginLeft:12},children:"\u5916\u90E8\u6DFB\u52A0\u6839\u6570\u636E"}),(0,t.jsx)(E.Z,{form:r,onFinish:A,children:(0,t.jsx)(l.EditFormTreeTable,{rowKey:"id",formListProps:{name:"departments"},columns:I,scroll:{x:"max-content"}},"tree-table")})]})};d.default=R}}]);
